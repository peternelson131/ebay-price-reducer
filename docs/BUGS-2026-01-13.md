# Bug Report - January 13, 2026

## Testing Session Results

### CRITICAL BUGS

#### BUG-006: XML Parser Doesn't Handle Price Attributes ‚ö†Ô∏è CRITICAL
**Status:** ‚úÖ FIXED (but data needs re-sync)
**Severity:** Critical (Data Corruption)
**Found:** 12:15 AM CST

**Description:**
The XML parser regex `<CurrentPrice>([^<]*)</CurrentPrice>` doesn't match eBay's price format which includes attributes like `currencyID="USD"`. This caused ALL listing prices to be set to $0.01.

**Fix Applied:**
```javascript
// Before (broken):
const regex = new RegExp(`<${tag}>([^<]*)</${tag}>`);

// After (fixed):
const regex = new RegExp(`<${tag}[^>]*>([^<]*)</${tag}>`);
```

**Data Recovery:** Need to run full sync to re-fetch correct prices from eBay.

---

#### BUG-007: Strategy Create Fails - Schema Mismatch
**Status:** üî¥ OPEN
**Severity:** High (Feature Broken)
**Found:** 12:30 AM CST

**Description:**
Creating a new strategy fails with error:
> "Could not find the 'frequency_days' column of 'strategies' in the schema cache"

Frontend code uses `frequency_days` but database column is `interval_days`.

**Fix Required:** Update frontend Strategies.jsx to use `interval_days` instead of `frequency_days`.

---

### MEDIUM BUGS

#### BUG-003: Strategy Display Shows Wrong Values
**Status:** ‚úÖ FIXED (production), needs deploy to UAT
**Severity:** Medium (UI Display)
**Found:** 12:15 AM CST

**Description:**
On Strategies page, percentage strategies show "$0" instead of the percentage value.
- "Cut 5% Every 3 Days" shows "Reduction: $0" instead of "5%"
- Frequency shows "Every days" instead of "Every 3 days"

**Root Cause:** Frontend not reading `strategy_type`, `reduction_percentage`, `interval_days` columns correctly

---

### FIXED BUGS

#### BUG-001: Missing lucide-react in Production
**Status:** ‚úÖ FIXED
**Severity:** Critical (Build Failure)

#### BUG-002: Missing `hidden` Column
**Status:** ‚úÖ FIXED  
**Severity:** Critical (Page Crash)

---

### LOW PRIORITY

#### BUG-004: Analytics Page Stuck Loading
**Status:** üü° INVESTIGATING
**Severity:** Low

#### BUG-005: eBay Credentials UI Shows "Required" When Already Set
**Status:** üü° INVESTIGATING
**Severity:** Low (Cosmetic)

---

## Test Results Summary

| Feature | Status | Notes |
|---------|--------|-------|
| Login | ‚úÖ PASS | |
| Dashboard | ‚úÖ PASS | |
| Listings Page | ‚úÖ PASS | After BUG-002 fix |
| Search | ‚úÖ PASS | Found 57 Nike listings |
| Vacation Mode Toggle | ‚úÖ PASS | |
| Strategies Page Display | ‚ö†Ô∏è PARTIAL | BUG-003 |
| Strategy Create | üî¥ FAIL | BUG-007 |
| Account Page | ‚úÖ PASS | |
| eBay Integration UI | ‚ö†Ô∏è PARTIAL | BUG-005 |
| Analytics Page | ‚ö†Ô∏è PARTIAL | BUG-004 |
| Price Sync | ‚úÖ PASS | After BUG-006 fix |
| Price Reduction API | ‚úÖ PASS | |

---

## Action Items

1. ‚ö†Ô∏è **Fix BUG-007** - Strategy create schema mismatch
2. ‚ö†Ô∏è **Run full sync** - Recover price data from eBay
3. Deploy BUG-003 fix to UAT
4. Investigate BUG-004 (Analytics loading)
5. Investigate BUG-005 (eBay credentials display)

---

## Testing Environment

- **UAT:** https://dainty-horse-49c336.netlify.app
- **Production:** https://ebay-price-reducer-public-platform.netlify.app
- **Database:** Supabase project zxcdkanccbdeqebnabgg
- **Test Account:** petenelson13@gmail.com
