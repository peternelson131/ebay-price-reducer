{"version":3,"file":"QuickList-42adf0f9.js","sources":["../../src/pages/QuickList.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'\nimport { supabase } from '../lib/supabase'\n\n/**\n * Story 7A & 7B: Simplified Single-ASIN Listing Component\n * Story 10: Dynamic condition validation by category\n * Story 11: User-configurable Quick List settings\n * \n * Simple UI for creating eBay listings from Amazon ASINs.\n * Users must configure settings before using the feature.\n */\n\n// Progress steps for visual feedback\nconst STEPS = [\n  { id: 'auth', label: 'Authenticating' },\n  { id: 'keepa', label: 'Fetching product data' },\n  { id: 'category', label: 'Detecting category' },\n  { id: 'content', label: 'Generating optimized title' },\n  { id: 'inventory', label: 'Creating inventory item' },\n  { id: 'offer', label: 'Creating offer' },\n  { id: 'publish', label: 'Publishing listing' }\n]\n\n// Default conditions (fallback if validation fails)\nconst DEFAULT_CONDITIONS = [\n  { value: 'NEW', label: 'Brand New' },\n  { value: 'NEW_OTHER', label: 'New (Open Box)' },\n  { value: 'LIKE_NEW', label: 'Like New' },\n  { value: 'VERY_GOOD', label: 'Very Good' },\n  { value: 'GOOD', label: 'Good' },\n  { value: 'ACCEPTABLE', label: 'Acceptable' },\n  { value: 'USED', label: 'Used' }\n]\n\n// Tab components\nconst TAB_LIST = 'list'\nconst TAB_SETTINGS = 'settings'\n\nexport default function QuickList() {\n  const [activeTab, setActiveTab] = useState(TAB_LIST)\n  \n  // Settings state\n  const [settings, setSettings] = useState(null)\n  const [isConfigured, setIsConfigured] = useState(false)\n  const [locations, setLocations] = useState([])\n  const [locationError, setLocationError] = useState(null)\n  const [settingsLoading, setSettingsLoading] = useState(true)\n  const [settingsSaving, setSettingsSaving] = useState(false)\n  const [settingsError, setSettingsError] = useState(null)\n  const [settingsSuccess, setSettingsSuccess] = useState(null)\n  \n  // Form state for settings\n  const [formSettings, setFormSettings] = useState({\n    fulfillment_policy_id: '',\n    payment_policy_id: '',\n    return_policy_id: '',\n    merchant_location_key: '',\n    sku_prefix: 'ql_',\n    description_note: ''\n  })\n  \n  // Listing form state\n  const [asin, setAsin] = useState('')\n  const [price, setPrice] = useState('')\n  const [quantity, setQuantity] = useState(1)\n  const [condition, setCondition] = useState('NEW')\n  \n  // Product validation state (Story 10)\n  const [productInfo, setProductInfo] = useState(null)\n  const [validConditions, setValidConditions] = useState(DEFAULT_CONDITIONS)\n  const [isValidating, setIsValidating] = useState(false)\n  \n  // UI state\n  const [isLoading, setIsLoading] = useState(false)\n  const [currentStep, setCurrentStep] = useState(null)\n  const [result, setResult] = useState(null)\n  const [error, setError] = useState(null)\n\n  // Validation\n  const isValidAsin = /^B[0-9A-Z]{9}$/.test(asin)\n  const isValidPrice = price && !isNaN(parseFloat(price)) && parseFloat(price) > 0\n  const canSubmit = isValidAsin && isValidPrice && !isLoading && !isValidating && isConfigured\n\n  // Load settings on mount\n  useEffect(() => {\n    loadSettings()\n  }, [])\n\n  const loadSettings = async () => {\n    setSettingsLoading(true)\n    setSettingsError(null)\n    try {\n      const { data: { session } } = await supabase.auth.getSession()\n      if (!session) return\n\n      const response = await fetch('/.netlify/functions/quick-list-settings', {\n        headers: {\n          'Authorization': `Bearer ${session.access_token}`\n        }\n      })\n\n      const data = await response.json()\n      \n      if (data.success) {\n        setSettings(data.settings)\n        setIsConfigured(data.isConfigured)\n        setLocations(data.locations || [])\n        setLocationError(data.locationError || null)\n        \n        // Populate form with existing settings or defaults\n        if (data.settings) {\n          setFormSettings({\n            fulfillment_policy_id: data.settings.fulfillment_policy_id || '',\n            payment_policy_id: data.settings.payment_policy_id || '',\n            return_policy_id: data.settings.return_policy_id || '',\n            merchant_location_key: data.settings.merchant_location_key || '',\n            sku_prefix: data.settings.sku_prefix || 'ql_',\n            description_note: data.settings.description_note || ''\n          })\n        } else {\n          // No settings yet - auto-select primary location if available\n          if (data.primaryLocationKey) {\n            setFormSettings(s => ({ ...s, merchant_location_key: data.primaryLocationKey }))\n          }\n        }\n        \n        // If not configured, switch to settings tab\n        if (!data.isConfigured) {\n          setActiveTab(TAB_SETTINGS)\n        }\n      }\n    } catch (err) {\n      console.error('Failed to load settings:', err)\n      setSettingsError('Failed to load settings')\n    } finally {\n      setSettingsLoading(false)\n    }\n  }\n\n  const saveSettings = async (e) => {\n    e.preventDefault()\n    setSettingsSaving(true)\n    setSettingsError(null)\n    setSettingsSuccess(null)\n\n    try {\n      const { data: { session } } = await supabase.auth.getSession()\n      if (!session) throw new Error('Not authenticated')\n\n      const response = await fetch('/.netlify/functions/quick-list-settings', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formSettings)\n      })\n\n      const data = await response.json()\n      \n      if (!response.ok) {\n        throw new Error(data.error || data.message || 'Failed to save settings')\n      }\n\n      setSettings(data.settings)\n      setIsConfigured(true)\n      setSettingsSuccess('Settings saved successfully!')\n      \n      // Auto-switch to list tab after successful save\n      setTimeout(() => {\n        setActiveTab(TAB_LIST)\n        setSettingsSuccess(null)\n      }, 1500)\n\n    } catch (err) {\n      setSettingsError(err.message)\n    } finally {\n      setSettingsSaving(false)\n    }\n  }\n\n  // Validate ASIN and get category info (Story 10)\n  const validateAsin = useCallback(async (asinToValidate) => {\n    if (!asinToValidate || !/^B[0-9A-Z]{9}$/.test(asinToValidate)) {\n      setProductInfo(null)\n      setValidConditions(DEFAULT_CONDITIONS)\n      return\n    }\n\n    setIsValidating(true)\n    try {\n      const { data: { session } } = await supabase.auth.getSession()\n      if (!session) return\n\n      const response = await fetch('/.netlify/functions/validate-asin', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ asin: asinToValidate })\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setProductInfo({\n          title: data.title,\n          imageUrl: data.imageUrl,\n          categoryId: data.categoryId,\n          categoryName: data.categoryName\n        })\n        setValidConditions(data.validConditions || DEFAULT_CONDITIONS)\n        // Reset condition to first valid option if current is invalid\n        const validValues = (data.validConditions || DEFAULT_CONDITIONS).map(c => c.value)\n        if (!validValues.includes(condition)) {\n          setCondition(data.defaultCondition || validValues[0])\n        }\n      } else {\n        setProductInfo(null)\n        setValidConditions(DEFAULT_CONDITIONS)\n      }\n    } catch (err) {\n      console.error('ASIN validation error:', err)\n      setValidConditions(DEFAULT_CONDITIONS)\n    } finally {\n      setIsValidating(false)\n    }\n  }, [condition])\n\n  // Debounced ASIN validation\n  useEffect(() => {\n    if (!isValidAsin) {\n      setProductInfo(null)\n      return\n    }\n\n    const timer = setTimeout(() => {\n      validateAsin(asin)\n    }, 500) // 500ms debounce\n\n    return () => clearTimeout(timer)\n  }, [asin, isValidAsin, validateAsin])\n\n  // Simulate progress through steps (since backend doesn't stream updates)\n  const simulateProgress = async () => {\n    for (let i = 0; i < STEPS.length; i++) {\n      setCurrentStep(i)\n      // Variable delay to make it feel realistic\n      const delay = STEPS[i].id === 'content' ? 2000 : \n                    STEPS[i].id === 'publish' ? 1500 : 800\n      await new Promise(resolve => setTimeout(resolve, delay))\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    \n    setIsLoading(true)\n    setError(null)\n    setResult(null)\n    setCurrentStep(0)\n\n    try {\n      // Get auth token\n      const { data: { session } } = await supabase.auth.getSession()\n      if (!session) {\n        throw new Error('Please log in to create listings')\n      }\n\n      // Start progress simulation (runs in parallel with API call)\n      const progressPromise = simulateProgress()\n\n      // Call auto-list-single endpoint\n      const response = await fetch('/.netlify/functions/auto-list-single', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          asin,\n          price: parseFloat(price),\n          quantity: parseInt(quantity),\n          condition,\n          publish: true\n        })\n      })\n\n      const data = await response.json()\n\n      // Wait for progress animation to finish\n      await progressPromise\n\n      if (!response.ok) {\n        // Check if settings are required\n        if (data.settingsRequired) {\n          setActiveTab(TAB_SETTINGS)\n          throw new Error('Please configure your Quick List settings first')\n        }\n        throw new Error(data.message || data.error || 'Failed to create listing')\n      }\n\n      setResult(data)\n      setCurrentStep(STEPS.length) // All complete\n\n    } catch (err) {\n      console.error('Listing creation error:', err)\n      setError(err.message)\n      setCurrentStep(null)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleReset = () => {\n    setAsin('')\n    setPrice('')\n    setQuantity(1)\n    setCondition('NEW')\n    setProductInfo(null)\n    setValidConditions(DEFAULT_CONDITIONS)\n    setResult(null)\n    setError(null)\n    setCurrentStep(null)\n  }\n\n  // Render settings tab content\n  const renderSettingsTab = () => (\n    <div className=\"space-y-6\">\n      {/* Settings Form */}\n      <form onSubmit={saveSettings} className=\"space-y-6\">\n        {/* Info Box */}\n        <div className=\"p-4 bg-accent/10 border border-accent/30 rounded-lg\">\n          <p className=\"text-sm text-theme-secondary\">\n            <strong>Where to find these IDs:</strong> Go to eBay Seller Hub ‚Üí Account Settings ‚Üí Business Policies. \n            Click on each policy to see its ID in the URL or policy details.\n          </p>\n        </div>\n\n        {/* Business Policies Section */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-medium text-theme-primary flex items-center gap-2\">\n            <span className=\"text-lg\">üìã</span> Business Policies\n            <span className=\"text-xs text-error\">*Required</span>\n          </h3>\n          \n          {/* Fulfillment Policy */}\n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              Shipping / Fulfillment Policy ID\n            </label>\n            <input\n              type=\"text\"\n              value={formSettings.fulfillment_policy_id}\n              onChange={(e) => setFormSettings(s => ({ ...s, fulfillment_policy_id: e.target.value.trim() }))}\n              placeholder=\"e.g., 107540197026\"\n              className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n              required\n            />\n          </div>\n\n          {/* Payment Policy */}\n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              Payment Policy ID\n            </label>\n            <input\n              type=\"text\"\n              value={formSettings.payment_policy_id}\n              onChange={(e) => setFormSettings(s => ({ ...s, payment_policy_id: e.target.value.trim() }))}\n              placeholder=\"e.g., 243561626026\"\n              className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n              required\n            />\n          </div>\n\n          {/* Return Policy */}\n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              Return Policy ID\n            </label>\n            <input\n              type=\"text\"\n              value={formSettings.return_policy_id}\n              onChange={(e) => setFormSettings(s => ({ ...s, return_policy_id: e.target.value.trim() }))}\n              placeholder=\"e.g., 243561625026\"\n              className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n              required\n            />\n          </div>\n        </div>\n\n        {/* Location Section */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-medium text-theme-primary flex items-center gap-2\">\n            <span className=\"text-lg\">üìç</span> Merchant Location\n            <span className=\"text-xs text-error\">*Required</span>\n          </h3>\n          \n          {locationError ? (\n            <div className=\"p-4 bg-error/10 border border-error/30 rounded-lg\">\n              <p className=\"text-sm text-error\">\n                Failed to load locations: {locationError}\n              </p>\n              <p className=\"text-xs text-theme-tertiary mt-2\">\n                You can still enter a location key manually below.\n              </p>\n              <input\n                type=\"text\"\n                value={formSettings.merchant_location_key}\n                onChange={(e) => setFormSettings(s => ({ ...s, merchant_location_key: e.target.value.trim() }))}\n                placeholder=\"e.g., loc-94e1f3a0-6e1b-4d23-befc-750fe183\"\n                className=\"w-full mt-2 px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n                required\n              />\n            </div>\n          ) : locations.length === 0 ? (\n            <div className=\"p-4 bg-warning/10 border border-warning/30 rounded-lg\">\n              <p className=\"text-sm text-warning\">\n                No merchant locations found. Please ensure your eBay account is connected and has at least one location configured.\n              </p>\n              <input\n                type=\"text\"\n                value={formSettings.merchant_location_key}\n                onChange={(e) => setFormSettings(s => ({ ...s, merchant_location_key: e.target.value.trim() }))}\n                placeholder=\"Enter location key manually\"\n                className=\"w-full mt-2 px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n                required\n              />\n            </div>\n          ) : (\n            <div>\n              <select\n                value={formSettings.merchant_location_key}\n                onChange={(e) => setFormSettings(s => ({ ...s, merchant_location_key: e.target.value }))}\n                className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n                required\n              >\n                <option value=\"\">Select a location...</option>\n                {locations.map(l => (\n                  <option key={l.key} value={l.key}>\n                    {l.name}{l.isPrimary ? ' ‚≠ê' : ''} - {l.address || l.type}\n                  </option>\n                ))}\n              </select>\n              <p className=\"mt-1 text-xs text-theme-tertiary\">\n                {locations.length} location{locations.length !== 1 ? 's' : ''} found ‚Ä¢ ‚≠ê = Primary\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* SKU Settings */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-medium text-theme-primary flex items-center gap-2\">\n            <span className=\"text-lg\">üè∑Ô∏è</span> SKU Settings\n          </h3>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              SKU Prefix\n            </label>\n            <input\n              type=\"text\"\n              value={formSettings.sku_prefix}\n              onChange={(e) => setFormSettings(s => ({ ...s, sku_prefix: e.target.value.replace(/[^a-zA-Z0-9_]/g, '').substring(0, 10) }))}\n              placeholder=\"ql_\"\n              maxLength={10}\n              className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n            />\n            <p className=\"mt-1 text-xs text-theme-tertiary\">\n              All SKUs will start with this prefix (e.g., {formSettings.sku_prefix || 'ql_'}B01KJEOCDW)\n            </p>\n          </div>\n        </div>\n\n        {/* Description Note */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-medium text-theme-primary flex items-center gap-2\">\n            <span className=\"text-lg\">üìù</span> Custom Description Note\n          </h3>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              Note to append to all listings (optional)\n            </label>\n            <textarea\n              value={formSettings.description_note}\n              onChange={(e) => setFormSettings(s => ({ ...s, description_note: e.target.value.substring(0, 1000) }))}\n              placeholder=\"e.g., Ships from Wisconsin. Contact us with any questions!\"\n              rows={3}\n              maxLength={1000}\n              className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent\"\n            />\n            <p className=\"mt-1 text-xs text-theme-tertiary\">\n              {formSettings.description_note.length}/1000 characters\n            </p>\n          </div>\n        </div>\n\n        {/* Error/Success Messages */}\n        {settingsError && (\n          <div className=\"p-4 bg-error/10 border border-error/30 rounded-lg\">\n            <p className=\"text-sm text-error\">{settingsError}</p>\n          </div>\n        )}\n        {settingsSuccess && (\n          <div className=\"p-4 bg-success/10 border border-success/30 rounded-lg\">\n            <p className=\"text-sm text-success\">{settingsSuccess}</p>\n          </div>\n        )}\n\n        {/* Save Button */}\n        <button\n          type=\"submit\"\n          disabled={settingsSaving}\n          className={`w-full py-3 px-6 rounded-lg font-medium transition-colors ${\n            settingsSaving\n              ? 'bg-gray-200 dark:bg-gray-700 text-theme-tertiary cursor-not-allowed'\n              : 'bg-accent text-white hover:bg-accent-hover'\n          }`}\n        >\n          {settingsSaving ? 'Saving...' : 'Save Settings'}\n        </button>\n      </form>\n    </div>\n  )\n\n  // Render listing tab content\n  const renderListingTab = () => (\n    <div className=\"space-y-6\">\n      {/* Not Configured Warning */}\n      {!isConfigured && (\n        <div className=\"p-4 bg-warning/10 border border-warning/30 rounded-lg\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"text-warning text-2xl\">‚ö†Ô∏è</div>\n            <div>\n              <h3 className=\"font-semibold text-warning\">Setup Required</h3>\n              <p className=\"text-sm text-theme-secondary mt-1\">\n                Please configure your Quick List settings before creating listings.\n              </p>\n              <button\n                onClick={() => setActiveTab(TAB_SETTINGS)}\n                className=\"mt-2 text-sm text-accent hover:underline\"\n              >\n                Go to Settings ‚Üí\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Success Result */}\n      {result && (\n        <div className=\"p-4 bg-success/10 border border-success/30 rounded-lg\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"text-success text-2xl\">‚úì</div>\n            <div className=\"flex-1\">\n              <h3 className=\"font-semibold text-success\">Listing Created!</h3>\n              <p className=\"text-sm text-theme-secondary mt-1\">{result.title}</p>\n              \n              <div className=\"mt-3 grid grid-cols-2 gap-2 text-sm\">\n                <div>\n                  <span className=\"text-theme-tertiary\">SKU:</span>{' '}\n                  <span className=\"font-mono\">{result.sku}</span>\n                </div>\n                <div>\n                  <span className=\"text-theme-tertiary\">Category:</span>{' '}\n                  <span>{result.categoryName}</span>\n                </div>\n                <div>\n                  <span className=\"text-theme-tertiary\">Price:</span>{' '}\n                  <span className=\"text-success font-semibold\">${result.price}</span>\n                </div>\n                <div>\n                  <span className=\"text-theme-tertiary\">Time:</span>{' '}\n                  <span>{(result.elapsedMs / 1000).toFixed(1)}s</span>\n                </div>\n              </div>\n\n              {result.listingUrl && (\n                <a\n                  href={result.listingUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent-hover transition-colors\"\n                >\n                  View on eBay ‚Üí\n                </a>\n              )}\n\n              <button\n                onClick={handleReset}\n                className=\"mt-4 ml-3 px-4 py-2 text-theme-secondary hover:text-theme-primary transition-colors\"\n              >\n                Create Another\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"p-4 bg-error/10 border border-error/30 rounded-lg\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"text-error text-2xl\">‚úó</div>\n            <div>\n              <h3 className=\"font-semibold text-error\">Failed to Create Listing</h3>\n              <p className=\"text-sm text-theme-secondary mt-1\">{error}</p>\n              <button\n                onClick={() => setError(null)}\n                className=\"mt-2 text-sm text-accent hover:underline\"\n              >\n                Try Again\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Progress Display */}\n      {isLoading && currentStep !== null && (\n        <div className=\"p-4 bg-theme-primary rounded-lg\">\n          <h3 className=\"font-medium text-theme-primary mb-3\">Creating listing...</h3>\n          <div className=\"space-y-2\">\n            {STEPS.map((step, idx) => (\n              <div key={step.id} className=\"flex items-center gap-3\">\n                <div className={`w-5 h-5 rounded-full flex items-center justify-center text-xs ${\n                  idx < currentStep \n                    ? 'bg-success text-white' \n                    : idx === currentStep \n                      ? 'bg-accent text-white animate-pulse' \n                      : 'bg-gray-200 dark:bg-gray-700 text-theme-tertiary'\n                }`}>\n                  {idx < currentStep ? '‚úì' : idx === currentStep ? '...' : idx + 1}\n                </div>\n                <span className={idx <= currentStep ? 'text-theme-primary' : 'text-theme-tertiary'}>\n                  {step.label}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Form */}\n      {!result && (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* ASIN Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              Amazon ASIN\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={asin}\n                onChange={(e) => setAsin(e.target.value.toUpperCase())}\n                placeholder=\"B01KJEOCDW\"\n                maxLength={10}\n                className={`w-full px-4 py-3 bg-theme-primary border rounded-lg focus:ring-2 focus:ring-accent focus:border-accent transition-colors ${\n                  asin && !isValidAsin ? 'border-error' : 'border-theme'\n                }`}\n                disabled={isLoading || !isConfigured}\n              />\n              {isValidating && (\n                <div className=\"absolute right-3 top-1/2 -translate-y-1/2\">\n                  <div className=\"w-5 h-5 border-2 border-accent border-t-transparent rounded-full animate-spin\"></div>\n                </div>\n              )}\n            </div>\n            {asin && !isValidAsin && (\n              <p className=\"mt-1 text-sm text-error\">\n                ASIN must start with B followed by 9 alphanumeric characters\n              </p>\n            )}\n          </div>\n\n          {/* Product Preview (Story 10) */}\n          {productInfo && (\n            <div className=\"p-3 bg-theme-primary rounded-lg border border-theme\">\n              <div className=\"flex gap-3\">\n                {productInfo.imageUrl && (\n                  <img \n                    src={productInfo.imageUrl} \n                    alt={productInfo.title}\n                    className=\"w-16 h-16 object-contain rounded\"\n                  />\n                )}\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm text-theme-primary font-medium truncate\">\n                    {productInfo.title}\n                  </p>\n                  <p className=\"text-xs text-theme-tertiary mt-1\">\n                    Category: {productInfo.categoryName}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Price Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n              Listing Price (USD)\n            </label>\n            <div className=\"relative\">\n              <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-theme-tertiary\">$</span>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0.01\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n                placeholder=\"24.99\"\n                className=\"w-full pl-8 pr-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent transition-colors\"\n                disabled={isLoading || !isConfigured}\n              />\n            </div>\n          </div>\n\n          {/* Quantity & Condition Row */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n                Quantity\n              </label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"10000\"\n                value={quantity}\n                onChange={(e) => setQuantity(parseInt(e.target.value) || 1)}\n                className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent transition-colors\"\n                disabled={isLoading || !isConfigured}\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-theme-secondary mb-1\">\n                Condition\n                {productInfo && (\n                  <span className=\"ml-2 text-xs text-theme-tertiary font-normal\">\n                    ({validConditions.length} options for this category)\n                  </span>\n                )}\n              </label>\n              <select\n                value={condition}\n                onChange={(e) => setCondition(e.target.value)}\n                className=\"w-full px-4 py-3 bg-theme-primary border border-theme rounded-lg focus:ring-2 focus:ring-accent focus:border-accent transition-colors\"\n                disabled={isLoading || isValidating || !isConfigured}\n              >\n                {validConditions.map((c) => (\n                  <option key={c.value} value={c.value}>{c.label}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Current Settings Preview */}\n          {isConfigured && settings && (\n            <div className=\"p-3 bg-theme-primary rounded-lg border border-theme text-xs text-theme-tertiary\">\n              <span className=\"font-medium\">Using:</span>{' '}\n              SKU prefix \"<span className=\"font-mono\">{settings.sku_prefix}</span>\"\n              <button\n                type=\"button\"\n                onClick={() => setActiveTab(TAB_SETTINGS)}\n                className=\"ml-2 text-accent hover:underline\"\n              >\n                View/Change Settings\n              </button>\n            </div>\n          )}\n\n          {/* Submit Button */}\n          <button\n            type=\"submit\"\n            disabled={!canSubmit}\n            className={`w-full py-3 px-6 rounded-lg font-medium transition-colors ${\n              canSubmit\n                ? 'bg-accent text-white hover:bg-accent-hover'\n                : 'bg-gray-200 dark:bg-gray-700 text-theme-tertiary cursor-not-allowed'\n            }`}\n          >\n            {isLoading ? 'Creating Listing...' : !isConfigured ? 'Configure Settings First' : 'Create eBay Listing'}\n          </button>\n        </form>\n      )}\n    </div>\n  )\n\n  if (settingsLoading) {\n    return (\n      <div className=\"max-w-2xl mx-auto\">\n        <div className=\"bg-theme-surface rounded-lg border border-theme p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-6 h-6 border-2 border-accent border-t-transparent rounded-full animate-spin\"></div>\n            <span className=\"text-theme-secondary\">Loading settings...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-theme-primary\">Quick List</h1>\n        <p className=\"text-theme-secondary mt-1\">\n          Create an eBay listing from an Amazon ASIN in seconds\n        </p>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"flex border-b border-theme\">\n        <button\n          onClick={() => setActiveTab(TAB_LIST)}\n          className={`px-6 py-3 font-medium border-b-2 transition-colors ${\n            activeTab === TAB_LIST\n              ? 'text-accent border-accent'\n              : 'text-theme-tertiary border-transparent hover:text-theme-secondary'\n          }`}\n        >\n          üì¶ Create Listing\n        </button>\n        <button\n          onClick={() => setActiveTab(TAB_SETTINGS)}\n          className={`px-6 py-3 font-medium border-b-2 transition-colors flex items-center gap-2 ${\n            activeTab === TAB_SETTINGS\n              ? 'text-accent border-accent'\n              : 'text-theme-tertiary border-transparent hover:text-theme-secondary'\n          }`}\n        >\n          ‚öôÔ∏è Settings\n          {!isConfigured && (\n            <span className=\"w-2 h-2 bg-error rounded-full\"></span>\n          )}\n        </button>\n      </div>\n\n      {/* Main Card */}\n      <div className=\"bg-theme-surface rounded-lg border border-theme p-6\">\n        {activeTab === TAB_LIST ? renderListingTab() : renderSettingsTab()}\n      </div>\n\n      {/* Info Box - only show on list tab when configured */}\n      {activeTab === TAB_LIST && isConfigured && (\n        <div className=\"bg-theme-surface rounded-lg border border-theme p-4\">\n          <h3 className=\"font-medium text-theme-primary mb-2\">How it works</h3>\n          <ol className=\"text-sm text-theme-secondary space-y-1 list-decimal list-inside\">\n            <li>Enter an Amazon ASIN and your desired price</li>\n            <li>We fetch product data from Keepa</li>\n            <li>AI generates an optimized 80-character title</li>\n            <li>eBay category is auto-detected</li>\n            <li>Listing is created and published instantly</li>\n          </ol>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":["STEPS","DEFAULT_CONDITIONS","TAB_LIST","TAB_SETTINGS","QuickList","activeTab","setActiveTab","useState","settings","setSettings","isConfigured","setIsConfigured","locations","setLocations","locationError","setLocationError","settingsLoading","setSettingsLoading","settingsSaving","setSettingsSaving","settingsError","setSettingsError","settingsSuccess","setSettingsSuccess","formSettings","setFormSettings","asin","setAsin","price","setPrice","quantity","setQuantity","condition","setCondition","productInfo","setProductInfo","validConditions","setValidConditions","isValidating","setIsValidating","isLoading","setIsLoading","currentStep","setCurrentStep","result","setResult","error","setError","isValidAsin","isValidPrice","canSubmit","useEffect","loadSettings","session","supabase","data","s","err","saveSettings","e","response","validateAsin","useCallback","asinToValidate","validValues","c","timer","simulateProgress","i","delay","resolve","handleSubmit","progressPromise","handleReset","renderSettingsTab","jsx","jsxs","l","renderListingTab","step","idx"],"mappings":"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"}