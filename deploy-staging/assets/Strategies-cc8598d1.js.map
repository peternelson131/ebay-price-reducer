{"version":3,"file":"Strategies-cc8598d1.js","sources":["../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../src/pages/Strategies.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n];\nconst FileText = createLucideIcon(\"file-text\", __iconNode);\n\nexport { __iconNode, FileText as default };\n//# sourceMappingURL=file-text.js.map\n","import { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { strategiesAPI } from '../lib/supabase'\nimport { Plus, FileText, Check, X } from 'lucide-react'\n\nexport default function Strategies() {\n  const queryClient = useQueryClient()\n  const [showModal, setShowModal] = useState(false)\n  const [editingRule, setEditingRule] = useState(null)\n  const [notification, setNotification] = useState(null)\n  const [newRule, setNewRule] = useState({\n    name: '',\n    reduction_type: 'percentage',\n    reduction_amount: 5,\n    frequency_days: 7\n  })\n\n  const { data: rules = [], isLoading, error } = useQuery({\n    queryKey: ['strategies'],\n    queryFn: strategiesAPI.getStrategies\n  })\n\n  const createStrategyMutation = useMutation({\n    mutationFn: strategiesAPI.createStrategy,\n    onSuccess: (newStrategy) => {\n      queryClient.invalidateQueries(['strategies'])\n      showNotification('success', `Rule \"${newStrategy.name}\" created successfully!`)\n    },\n    onError: (error) => {\n      showNotification('error', error.message || 'Failed to create strategy')\n    }\n  })\n\n  const updateStrategyMutation = useMutation({\n    mutationFn: ({ id, updates }) => strategiesAPI.updateStrategy(id, updates),\n    onSuccess: (updatedStrategy) => {\n      queryClient.invalidateQueries(['strategies'])\n      showNotification('success', `Rule \"${updatedStrategy.name}\" updated successfully!`)\n    },\n    onError: (error) => {\n      showNotification('error', error.message || 'Failed to update strategy')\n    }\n  })\n\n  const deleteStrategyMutation = useMutation({\n    mutationFn: strategiesAPI.deleteStrategy,\n    onSuccess: () => {\n      queryClient.invalidateQueries(['strategies'])\n      showNotification('success', 'Rule deleted successfully!')\n    },\n    onError: (error) => {\n      showNotification('error', error.message || 'Failed to delete strategy')\n    }\n  })\n\n  const showNotification = (type, message) => {\n    setNotification({ type, message })\n    setTimeout(() => setNotification(null), 5000)\n  }\n\n  const handleCreateRule = () => {\n    if (!newRule.name.trim()) {\n      showNotification('error', 'Please enter a rule name')\n      return\n    }\n\n    if (newRule.reduction_amount < 1) {\n      showNotification('error', 'Reduction amount must be at least 1')\n      return\n    }\n\n    if (newRule.frequency_days < 1 || newRule.frequency_days > 365) {\n      showNotification('error', 'Frequency must be between 1 and 365 days')\n      return\n    }\n\n    // Map frontend field names to database column names\n    createStrategyMutation.mutate({\n      name: newRule.name,\n      strategy_type: newRule.reduction_type,\n      reduction_percentage: newRule.reduction_type === 'percentage' ? newRule.reduction_amount : 0,\n      reduction_amount: newRule.reduction_type === 'dollar' ? newRule.reduction_amount : 0,\n      interval_days: newRule.frequency_days\n    })\n\n    setNewRule({\n      name: '',\n      reduction_type: 'percentage',\n      reduction_amount: 5,\n      frequency_days: 7\n    })\n    setShowModal(false)\n  }\n\n  const handleUpdateRule = (id, updates) => {\n    // Map frontend field names to database column names\n    const dbUpdates = {\n      name: updates.name,\n      strategy_type: updates.reduction_type,\n      reduction_percentage: updates.reduction_type === 'percentage' ? updates.reduction_amount : 0,\n      reduction_amount: updates.reduction_type === 'dollar' ? updates.reduction_amount : 0,\n      interval_days: updates.frequency_days\n    }\n    updateStrategyMutation.mutate({ id, updates: dbUpdates })\n    setEditingRule(null)\n  }\n\n  const handleDeleteRule = (id) => {\n    const rule = rules.find(r => r.id === id)\n    if (window.confirm(`Are you sure you want to delete \"${rule?.name}\"?`)) {\n      deleteStrategyMutation.mutate(id)\n    }\n  }\n\n  const resetModal = () => {\n    setNewRule({\n      name: '',\n      reduction_type: 'percentage',\n      reduction_amount: 5,\n      frequency_days: 7\n    })\n    setShowModal(false)\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-theme-secondary\">Loading strategies...</div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-error\">Error loading strategies: {error.message}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl sm:text-3xl font-semibold text-theme-primary\">Price Reduction Rules</h1>\n          <p className=\"text-theme-secondary mt-2 text-sm sm:text-base\">Create and manage automated price reduction rules for your listings</p>\n        </div>\n        <button\n          onClick={() => setShowModal(true)}\n          className=\"bg-accent text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg hover:bg-accent-hover font-medium flex items-center justify-center space-x-2 w-full sm:w-auto transition-colors\"\n        >\n          <Plus className=\"h-4 w-4\" strokeWidth={2} />\n          <span>Add New Rule</span>\n        </button>\n      </div>\n\n      {/* Notification Banner */}\n      {notification && (\n        <div className={`rounded-lg p-4 flex items-center justify-between ${\n          notification.type === 'success'\n            ? 'bg-success/10 border border-success/30'\n            : 'bg-error/10 border border-error/30'\n        }`}>\n          <div className=\"flex items-center space-x-3\">\n            <div className={notification.type === 'success' ? 'text-success' : 'text-error'}>\n              {notification.type === 'success' ? <Check className=\"h-5 w-5\" strokeWidth={2} /> : <X className=\"h-5 w-5\" strokeWidth={2} />}\n            </div>\n            <p className={`text-sm font-medium ${\n              notification.type === 'success' ? 'text-success' : 'text-error'\n            }`}>\n              {notification.message}\n            </p>\n          </div>\n          <button\n            onClick={() => setNotification(null)}\n            className={`text-sm font-medium ${\n              notification.type === 'success' ? 'text-success hover:text-success' : 'text-error hover:text-error'\n            }`}\n          >\n            <X className=\"h-4 w-4\" strokeWidth={2} />\n          </button>\n        </div>\n      )}\n\n      {/* Rules List */}\n      <div className=\"bg-theme-surface rounded-lg border border-theme overflow-hidden\">\n        <div className=\"px-4 sm:px-6 py-4 border-b border-theme\">\n          <h3 className=\"text-lg font-medium text-theme-primary\">Your Rules ({rules.length})</h3>\n        </div>\n\n        {rules.length === 0 ? (\n          <div className=\"px-4 sm:px-6 py-8 sm:py-12 text-center\">\n            <FileText className=\"h-16 w-16 text-theme-tertiary mx-auto mb-4\" strokeWidth={1} />\n            <h3 className=\"text-lg font-medium text-theme-primary mb-2\">No rules created yet</h3>\n            <p className=\"text-theme-secondary mb-4\">Create your first price reduction rule to get started</p>\n            <button\n              onClick={() => setShowModal(true)}\n              className=\"bg-accent text-white px-4 py-2 rounded-lg hover:bg-accent-hover transition-colors\"\n            >\n              Create First Rule\n            </button>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n            {rules.map((rule) => (\n              <div key={rule.id} className=\"px-4 sm:px-6 py-4 sm:py-6 hover:bg-theme-hover transition-colors\">\n                {editingRule === rule.id ? (\n                  <EditRuleForm\n                    rule={rule}\n                    onSave={handleUpdateRule}\n                    onCancel={() => setEditingRule(null)}\n                    showNotification={showNotification}\n                  />\n                ) : (\n                  <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-3\">\n                        <h4 className=\"text-lg font-medium text-theme-primary\">{rule.name}</h4>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-6 text-sm\">\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"text-theme-tertiary\">Reduction:</span>\n                          <div className=\"font-medium text-accent\">\n                            {(rule.strategy_type || rule.reduction_type) === 'percentage' \n                              ? `${rule.reduction_percentage || rule.reduction_amount}%` \n                              : `$${rule.reduction_amount}`}\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"text-theme-tertiary\">Frequency:</span>\n                          <div className=\"font-medium text-theme-primary\">Every {rule.interval_days || rule.frequency_days || '?'} day{(rule.interval_days || rule.frequency_days) !== 1 ? 's' : ''}</div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"text-theme-tertiary\">Created:</span>\n                          <div className=\"font-medium text-theme-primary\">{new Date(rule.created_at).toLocaleDateString()}</div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-col sm:flex-row gap-2 lg:ml-6\">\n                      <button\n                        onClick={() => setEditingRule(rule.id)}\n                        className=\"bg-accent/10 text-accent border border-accent/30 px-4 py-2 rounded-lg text-sm font-medium hover:bg-accent/20 w-full sm:w-auto transition-colors\"\n                      >\n                        Edit\n                      </button>\n                      <button\n                        onClick={() => handleDeleteRule(rule.id)}\n                        className=\"bg-error/10 text-error border border-error/30 px-4 py-2 rounded-lg text-sm font-medium hover:bg-error/20 w-full sm:w-auto transition-colors\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Add New Rule Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-theme-surface border border-theme rounded-xl p-4 sm:p-6 w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-medium text-theme-primary\">Create New Rule</h3>\n              <button\n                onClick={resetModal}\n                className=\"text-theme-tertiary hover:text-theme-primary transition-colors p-1 rounded-lg hover:bg-theme-hover\"\n              >\n                <X className=\"h-5 w-5\" strokeWidth={1.5} />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">Rule Name</label>\n                <input\n                  type=\"text\"\n                  value={newRule.name}\n                  onChange={(e) => setNewRule(prev => ({ ...prev, name: e.target.value }))}\n                  placeholder=\"e.g., Quick Sale Rule\"\n                  className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary placeholder-text-tertiary focus:ring-2 focus:ring-accent focus:border-transparent transition-colors\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">Reduction Type</label>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setNewRule(prev => ({ ...prev, reduction_type: 'percentage' }))}\n                    className={`px-3 py-2.5 rounded-lg border text-sm font-medium transition-colors ${\n                      newRule.reduction_type === 'percentage'\n                        ? 'bg-accent/10 border-accent text-accent'\n                        : 'bg-theme-primary border-theme text-theme-secondary hover:bg-theme-hover'\n                    }`}\n                  >\n                    Percentage (%)\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setNewRule(prev => ({ ...prev, reduction_type: 'dollar' }))}\n                    className={`px-3 py-2.5 rounded-lg border text-sm font-medium transition-colors ${\n                      newRule.reduction_type === 'dollar'\n                        ? 'bg-accent/10 border-accent text-accent'\n                        : 'bg-theme-primary border-theme text-theme-secondary hover:bg-theme-hover'\n                    }`}\n                  >\n                    Dollar Amount ($)\n                  </button>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">\n                  Reduction Amount ({newRule.reduction_type === 'percentage' ? '%' : '$'})\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max={newRule.reduction_type === 'percentage' ? \"50\" : \"999\"}\n                  value={newRule.reduction_amount}\n                  onChange={(e) => setNewRule(prev => ({ ...prev, reduction_amount: parseInt(e.target.value) || 1 }))}\n                  className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary focus:ring-2 focus:ring-accent focus:border-transparent transition-colors\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">Frequency (Days)</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"365\"\n                  value={newRule.frequency_days}\n                  onChange={(e) => setNewRule(prev => ({ ...prev, frequency_days: parseInt(e.target.value) || 1 }))}\n                  placeholder=\"Enter number of days (e.g., 7)\"\n                  className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary placeholder-text-tertiary focus:ring-2 focus:ring-accent focus:border-transparent transition-colors\"\n                />\n                <p className=\"text-xs text-theme-tertiary mt-1\">Enter any number from 1 to 365 days</p>\n              </div>\n            </div>\n\n            <div className=\"flex space-x-3 mt-6\">\n              <button\n                onClick={handleCreateRule}\n                disabled={!newRule.name.trim()}\n                className=\"flex-1 bg-accent text-white px-4 py-2.5 rounded-lg hover:bg-accent-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\"\n              >\n                Create Rule\n              </button>\n              <button\n                onClick={resetModal}\n                className=\"px-4 py-2.5 border border-theme text-theme-secondary rounded-lg hover:bg-theme-hover transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction EditRuleForm({ rule, onSave, onCancel, showNotification }) {\n  // Map DB column names to form field names\n  const strategyType = rule.strategy_type || rule.reduction_type || 'percentage'\n  const reductionValue = strategyType === 'percentage' \n    ? (rule.reduction_percentage || rule.reduction_amount || 0)\n    : (rule.reduction_amount || 0)\n  \n  const [editData, setEditData] = useState({\n    name: rule.name,\n    reduction_type: strategyType,\n    reduction_amount: reductionValue,\n    frequency_days: rule.interval_days || rule.frequency_days || 7\n  })\n\n  const handleSave = () => {\n    if (!editData.name.trim()) {\n      showNotification('error', 'Please enter a rule name')\n      return\n    }\n    if (editData.reduction_amount < 1) {\n      showNotification('error', 'Reduction amount must be at least 1')\n      return\n    }\n    if (editData.frequency_days < 1 || editData.frequency_days > 365) {\n      showNotification('error', 'Frequency must be between 1 and 365 days')\n      return\n    }\n    onSave(rule.id, editData)\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">Rule Name</label>\n          <input\n            type=\"text\"\n            value={editData.name}\n            onChange={(e) => setEditData(prev => ({ ...prev, name: e.target.value }))}\n            className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary focus:ring-2 focus:ring-accent focus:border-transparent\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">Reduction Type</label>\n          <select\n            value={editData.reduction_type}\n            onChange={(e) => setEditData(prev => ({ ...prev, reduction_type: e.target.value }))}\n            className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary focus:ring-2 focus:ring-accent focus:border-transparent\"\n          >\n            <option value=\"percentage\">Percentage (%)</option>\n            <option value=\"dollar\">Dollar Amount ($)</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">\n            Reduction Amount ({editData.reduction_type === 'percentage' ? '%' : '$'})\n          </label>\n          <input\n            type=\"number\"\n            min=\"1\"\n            value={editData.reduction_amount}\n            onChange={(e) => setEditData(prev => ({ ...prev, reduction_amount: parseInt(e.target.value) || 1 }))}\n            className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary focus:ring-2 focus:ring-accent focus:border-transparent\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-theme-secondary mb-1.5\">Frequency (Days)</label>\n          <input\n            type=\"number\"\n            min=\"1\"\n            max=\"365\"\n            value={editData.frequency_days}\n            onChange={(e) => setEditData(prev => ({ ...prev, frequency_days: parseInt(e.target.value) || 1 }))}\n            placeholder=\"Enter number of days\"\n            className=\"w-full bg-theme-primary border border-theme rounded-lg px-3 py-2.5 text-theme-primary placeholder-text-tertiary focus:ring-2 focus:ring-accent focus:border-transparent\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex space-x-3\">\n        <button\n          onClick={handleSave}\n          className=\"bg-success/10 text-success border border-success/30 px-4 py-2 rounded-lg hover:bg-success/20 transition-colors font-medium\"\n        >\n          Save Changes\n        </button>\n        <button\n          onClick={onCancel}\n          className=\"bg-theme-hover text-theme-secondary px-4 py-2 rounded-lg hover:bg-gray-200 dark:bg-gray-700 transition-colors\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":["__iconNode","FileText","createLucideIcon","Strategies","queryClient","useQueryClient","showModal","setShowModal","useState","editingRule","setEditingRule","notification","setNotification","newRule","setNewRule","rules","isLoading","error","useQuery","strategiesAPI","createStrategyMutation","useMutation","newStrategy","showNotification","updateStrategyMutation","id","updates","updatedStrategy","deleteStrategyMutation","type","message","handleCreateRule","handleUpdateRule","dbUpdates","handleDeleteRule","rule","r","resetModal","jsx","jsxs","Plus","Check","X","EditRuleForm","e","prev","onSave","onCancel","strategyType","reductionValue","editData","setEditData","handleSave"],"mappings":"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","x_google_ignoreList":[0]}