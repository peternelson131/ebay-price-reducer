{"version":3,"mappings":"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","names":["__iconNode","BookOpen","createLucideIcon","ClipboardList","InfluencerAsinCorrelation","lazy","__vitePreload","AutoDubbing","InfluencerTaskList","AsinCatalog","CatalogImport","WhatNotAnalysis","ProductCRM","menuItems","ShoppingBag","Search","Upload","Package","getTabFromHash","hash","m","InfluencerCentral","activeItem","setActiveItem","useState","sidebarOpen","setSidebarOpen","mobileSidebarOpen","setMobileSidebarOpen","pendingTaskCount","setPendingTaskCount","useEffect","handleHashChange","loadPendingCount","token","userAPI","data","err","interval","activeMenuItem","item","ActiveComponent","handleMenuClick","itemId","jsxs","jsx","ChevronLeft","isActive","Icon","ChevronRight","Menu","Suspense"],"sources":["../../node_modules/lucide-react/dist/esm/icons/book-open.js","../../node_modules/lucide-react/dist/esm/icons/clipboard-list.js","../../src/pages/InfluencerCentral.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 7v14\", key: \"1akyts\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",\n      key: \"ruj8y\"\n    }\n  ]\n];\nconst BookOpen = createLucideIcon(\"book-open\", __iconNode);\n\nexport { __iconNode, BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"8\", height: \"4\", x: \"8\", y: \"2\", rx: \"1\", ry: \"1\", key: \"tgr4d6\" }],\n  [\n    \"path\",\n    {\n      d: \"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\",\n      key: \"116196\"\n    }\n  ],\n  [\"path\", { d: \"M12 11h4\", key: \"1jrz19\" }],\n  [\"path\", { d: \"M12 16h4\", key: \"n85exb\" }],\n  [\"path\", { d: \"M8 11h.01\", key: \"1dfujw\" }],\n  [\"path\", { d: \"M8 16h.01\", key: \"18s6g9\" }]\n];\nconst ClipboardList = createLucideIcon(\"clipboard-list\", __iconNode);\n\nexport { __iconNode, ClipboardList as default };\n//# sourceMappingURL=clipboard-list.js.map\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { Search, ChevronLeft, ChevronRight, Menu, ClipboardList, BookOpen, Upload, Package, ShoppingBag } from 'lucide-react';\nimport { userAPI } from '../lib/supabase';\n\n// Lazy load the content components\nconst InfluencerAsinCorrelation = lazy(() => import('./InfluencerAsinCorrelation'));\nconst AutoDubbing = lazy(() => import('./AutoDubbing'));\nconst InfluencerTaskList = lazy(() => import('./InfluencerTaskList'));\nconst AsinCatalog = lazy(() => import('./AsinCatalog'));\nconst CatalogImport = lazy(() => import('./CatalogImport'));\nconst WhatNotAnalysis = lazy(() => import('./WhatNotAnalysis'));\nconst ProductCRM = lazy(() => import('./ProductCRM'));\n\n// Menu item configuration - Product CRM at top\nconst menuItems = [\n  {\n    id: 'product-crm',\n    label: 'Product CRM',\n    icon: ShoppingBag,\n    component: ProductCRM,\n    badge: null\n  },\n  {\n    id: 'asin-correlation',\n    label: 'ASIN Correlation Finder',\n    icon: Search,\n    component: InfluencerAsinCorrelation,\n    badge: null\n  },\n  {\n    id: 'task-list',\n    label: 'Upload Tasks',\n    icon: ClipboardList,\n    component: InfluencerTaskList,\n    badge: 'pending' // Special: will show pending task count\n  },\n  {\n    id: 'catalog',\n    label: 'ASIN Catalog',\n    icon: BookOpen,\n    component: AsinCatalog,\n    badge: null\n  },\n  {\n    id: 'catalog-import',\n    label: 'Catalog Import',\n    icon: Upload,\n    component: CatalogImport,\n    badge: null\n  },\n  {\n    id: 'auto-dubbing',\n    label: 'Auto-dubbing',\n    icon: null,\n    customIcon: 'ðŸŽ™ï¸',\n    component: AutoDubbing,\n    badge: null\n  },\n  {\n    id: 'whatnot-analysis',\n    label: 'WhatNot Analysis ðŸš§',\n    icon: Package,\n    component: WhatNotAnalysis,\n    badge: null\n  }\n];\n\n// Get initial tab from URL hash or default to Product CRM\nconst getTabFromHash = () => {\n  const hash = window.location.hash.replace('#', '');\n  const validTabs = menuItems.map(m => m.id);\n  return validTabs.includes(hash) ? hash : 'product-crm';\n};\n\nexport default function InfluencerCentral() {\n  const [activeItem, setActiveItem] = useState(getTabFromHash);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [mobileSidebarOpen, setMobileSidebarOpen] = useState(false);\n  const [pendingTaskCount, setPendingTaskCount] = useState(0);\n\n  // Sync with URL hash changes (back/forward navigation)\n  useEffect(() => {\n    const handleHashChange = () => {\n      setActiveItem(getTabFromHash());\n    };\n    window.addEventListener('hashchange', handleHashChange);\n    return () => window.removeEventListener('hashchange', handleHashChange);\n  }, []);\n\n  // Load pending task count\n  useEffect(() => {\n    const loadPendingCount = async () => {\n      try {\n        const token = await userAPI.getAuthToken();\n        const response = await fetch('/.netlify/functions/influencer-tasks?status=pending', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        const data = await response.json();\n        if (data.success) {\n          setPendingTaskCount(data.pendingCount || 0);\n        }\n      } catch (err) {\n        console.error('Failed to load pending task count:', err);\n      }\n    };\n    loadPendingCount();\n    \n    // Refresh every 30 seconds\n    const interval = setInterval(loadPendingCount, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const activeMenuItem = menuItems.find(item => item.id === activeItem);\n  const ActiveComponent = activeMenuItem?.component;\n\n  const handleMenuClick = (itemId) => {\n    setActiveItem(itemId);\n    setMobileSidebarOpen(false); // Close mobile sidebar on selection\n    // Update URL hash for persistence\n    window.location.hash = itemId;\n  };\n\n  return (\n    <div className=\"flex\" style={{ height: 'calc(100vh - 56px)' }}>\n      {/* Mobile Sidebar Overlay */}\n      {mobileSidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden\"\n          onClick={() => setMobileSidebarOpen(false)}\n        />\n      )}\n\n      {/* Side Panel */}\n      <aside\n        className={`\n          ${sidebarOpen ? 'w-64' : 'w-0 lg:w-12'}\n          ${mobileSidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n          fixed lg:relative inset-y-0 left-0 z-40 lg:z-0\n          bg-theme-surface border-r border-theme\n          transition-all duration-300 ease-in-out\n          flex flex-col overflow-hidden\n          h-full\n        `}\n      >\n        {/* Sidebar Header */}\n        <div className={`\n          flex items-center justify-between p-4 border-b border-theme\n          ${!sidebarOpen && 'lg:hidden'}\n        `}>\n          <h2 className=\"font-semibold text-theme-primary text-sm uppercase tracking-wide\">\n            Influencer Tools\n          </h2>\n          <button\n            onClick={() => setMobileSidebarOpen(false)}\n            className=\"lg:hidden p-1 rounded hover:bg-theme-hover text-theme-secondary\"\n          >\n            <ChevronLeft className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Menu Items */}\n        <nav className={`flex-1 py-2 ${!sidebarOpen && 'lg:hidden'}`}>\n          {menuItems.map((item) => {\n            const isActive = activeItem === item.id;\n            const Icon = item.icon;\n            \n            return (\n              <button\n                key={item.id}\n                onClick={() => handleMenuClick(item.id)}\n                className={`\n                  w-full flex items-center px-4 py-3 text-left\n                  transition-colors duration-150\n                  ${isActive\n                    ? 'bg-accent text-white'\n                    : 'text-theme-secondary hover:bg-theme-hover hover:text-theme-primary'\n                  }\n                `}\n              >\n                {/* Icon */}\n                <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center mr-3\">\n                  {item.customIcon ? (\n                    <span className=\"text-lg\">{item.customIcon}</span>\n                  ) : Icon ? (\n                    <Icon className=\"w-5 h-5\" strokeWidth={1.5} />\n                  ) : null}\n                </span>\n                \n                {/* Label and Badge */}\n                <span className=\"flex-1 min-w-0\">\n                  <span className=\"block text-sm font-medium truncate\">\n                    {item.label}\n                  </span>\n                </span>\n                \n                {/* Pending task badge */}\n                {item.badge === 'pending' && pendingTaskCount > 0 && (\n                  <span className={`\n                    ml-2 text-xs font-bold px-2 py-0.5 rounded-full animate-pulse\n                    ${isActive \n                      ? 'bg-white/30 text-white' \n                      : 'bg-error text-white'\n                    }\n                  `}>\n                    {pendingTaskCount}\n                  </span>\n                )}\n              </button>\n            );\n          })}\n        </nav>\n\n        {/* Collapse Toggle (Desktop only) */}\n        <div className=\"hidden lg:block border-t border-theme p-2\">\n          <button\n            onClick={() => setSidebarOpen(!sidebarOpen)}\n            className=\"w-full flex items-center justify-center p-2 rounded-lg text-theme-tertiary hover:text-theme-secondary hover:bg-theme-hover transition-colors\"\n            title={sidebarOpen ? 'Collapse sidebar' : 'Expand sidebar'}\n          >\n            {sidebarOpen ? (\n              <ChevronLeft className=\"w-5 h-5\" />\n            ) : (\n              <ChevronRight className=\"w-5 h-5\" />\n            )}\n          </button>\n        </div>\n\n        {/* Collapsed state icon strip (Desktop only) */}\n        {!sidebarOpen && (\n          <div className=\"hidden lg:flex flex-col items-center py-4 space-y-2\">\n            {menuItems.map((item) => {\n              const isActive = activeItem === item.id;\n              const Icon = item.icon;\n              \n              return (\n                <button\n                  key={item.id}\n                  onClick={() => handleMenuClick(item.id)}\n                  className={`\n                    p-2 rounded-lg transition-colors\n                    ${isActive\n                      ? 'bg-accent text-white'\n                      : 'text-theme-secondary hover:bg-theme-hover hover:text-theme-primary'\n                    }\n                  `}\n                  title={item.label}\n                >\n                  {item.customIcon ? (\n                    <span className=\"text-lg\">{item.customIcon}</span>\n                  ) : Icon ? (\n                    <Icon className=\"w-5 h-5\" strokeWidth={1.5} />\n                  ) : null}\n                </button>\n              );\n            })}\n            \n            {/* Expand button at bottom */}\n            <button\n              onClick={() => setSidebarOpen(true)}\n              className=\"mt-auto p-2 rounded-lg text-theme-tertiary hover:text-theme-secondary hover:bg-theme-hover transition-colors\"\n              title=\"Expand sidebar\"\n            >\n              <ChevronRight className=\"w-5 h-5\" />\n            </button>\n          </div>\n        )}\n      </aside>\n\n      {/* Main Content Area */}\n      <main className=\"flex-1 min-w-0 overflow-auto\">\n        {/* Mobile Header with Menu Toggle */}\n        <div className=\"lg:hidden flex items-center p-4 border-b border-theme bg-theme-surface\">\n          <button\n            onClick={() => setMobileSidebarOpen(true)}\n            className=\"p-2 rounded-lg text-theme-secondary hover:text-theme-primary hover:bg-theme-hover mr-3\"\n          >\n            <Menu className=\"w-5 h-5\" />\n          </button>\n          <h1 className=\"font-semibold text-theme-primary\">\n            {activeMenuItem?.label || 'Influencer Central'}\n          </h1>\n        </div>\n\n        {/* Content */}\n        <Suspense fallback={\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-accent\"></div>\n              <p className=\"mt-2 text-theme-secondary\">Loading...</p>\n            </div>\n          </div>\n        }>\n          {ActiveComponent && <ActiveComponent />}\n        </Suspense>\n      </main>\n    </div>\n  );\n}\n"],"file":"assets/InfluencerCentral-4eaf9fcd.js"}