import{r as c,b as M,u as z,d as $,L as w,e as Z,f as h,B as F}from"./vendor-react-4c62d1cf.js";import{c as W,_ as p}from"./vendor-supabase-5edd3635.js";import{Q as V,a as B}from"./vendor-query-4b12add6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var C={exports:{}},k={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=c,Y=Symbol.for("react.element"),K=Symbol.for("react.fragment"),Q=Object.prototype.hasOwnProperty,G=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function O(r,t,s){var a,n={},o=null,l=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)Q.call(t,a)&&!H.hasOwnProperty(a)&&(n[a]=t[a]);if(r&&r.defaultProps)for(a in t=r.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:Y,type:r,key:o,ref:l,props:n,_owner:G.current}}k.Fragment=K;k.jsx=O;k.jsxs=O;C.exports=k;var e=C.exports,S={},N=M;S.createRoot=N.createRoot,S.hydrateRoot=N.hydrateRoot;const j="https://zxcdkanccbdeqebnabgg.supabase.co",E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp4Y2RrYW5jY2JkZXFlYm5hYmdnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDQwNzAsImV4cCI6MjA3NDU4MDA3MH0.yjhzb26o20kuf3BUa2Dzz4R7VF1ZQYNYiUy8fqp8t2M",X=!1,ee=!E;let i=null;i=W(j,E),console.log("ðŸ”Œ Supabase client initialized with real configuration");new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();console.log("âœ… Real Supabase mode - connected to live database");const te=i||{auth:{getUser:()=>Promise.reject(new Error("Real Supabase not configured")),getSession:()=>Promise.reject(new Error("Real Supabase not configured")),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})}},x=te,re=i?{async getListings(r={}){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{status:s="Active"}=r;let a=i.from("listings").select("*").eq("user_id",t.id);s!=="all"&&s!=="Active"?a=a.eq("listing_status",s):s==="Active"&&(a=a.eq("listing_status","Active").gt("quantity_available",0)),a=a.order("created_at",{ascending:!1});const{data:n,error:o}=await a;if(o)throw o;return n||[]},async getListing(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:a}=await i.from("listings").select("*").eq("id",r).eq("user_id",t.id).single();if(a)throw a;return s},async updateListing(r,t){const{data:{user:s}}=await i.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:n}=await i.from("listings").update(t).eq("id",r).eq("user_id",s.id).select().single();if(n)throw n;return a},async deleteListing(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:s}=await i.from("listings").delete().eq("id",r).eq("user_id",t.id);if(s)throw s},async endListing(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:a}=await i.from("listings").update({listing_status:"Ended"}).eq("id",r).eq("user_id",t.id).select().single();if(a)throw a;return{message:"Listing closed successfully",listing:s}},async recordPriceReduction(r,t,s="manual"){const{data:{user:a}}=await i.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:{session:n}}=await i.auth.getSession();if(!n)throw new Error("No active session");const o=await fetch(`/.netlify/functions/reduce-price/${r}/reduce`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({customPrice:t})}),l=await o.json();if(!o.ok)throw new Error(l.error||"Failed to reduce price");return l.listing},async createListing(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:{session:s}}=await i.auth.getSession();if(!s)throw new Error("No active session");const a=await fetch("/.netlify/functions/create-ebay-listing",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`},body:JSON.stringify(r)}),n=await a.json();if(!a.ok)throw new Error(n.error||n.message||"Failed to create listing");return n}}:{getListings:()=>Promise.reject(new Error("Real Supabase not configured")),getListing:()=>Promise.reject(new Error("Real Supabase not configured")),updateListing:()=>Promise.reject(new Error("Real Supabase not configured")),deleteListing:()=>Promise.reject(new Error("Real Supabase not configured")),endListing:()=>Promise.reject(new Error("Real Supabase not configured")),recordPriceReduction:()=>Promise.reject(new Error("Real Supabase not configured")),createListing:()=>Promise.reject(new Error("Real Supabase not configured"))},Je=re,ae=i?{async getStrategies(){const{data:{user:r}}=await i.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:t,error:s}=await i.from("strategies").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(s)throw s;return t||[]},async getStrategy(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:a}=await i.from("strategies").select("*").eq("id",r).eq("user_id",t.id).single();if(a)throw a;return s},async createStrategy(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:a}=await i.from("strategies").insert({user_id:t.id,...r}).select().single();if(a)throw a;return s},async updateStrategy(r,t){const{data:{user:s}}=await i.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:n}=await i.from("strategies").update(t).eq("id",r).eq("user_id",s.id).select().single();if(n)throw n;return a},async deleteStrategy(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:s}=await i.from("strategies").delete().eq("id",r).eq("user_id",t.id);if(s)throw s.code==="P0001"?new Error("Cannot delete strategy that is in use by listings"):s}}:{getStrategies:()=>Promise.reject(new Error("Real Supabase not configured")),getStrategy:()=>Promise.reject(new Error("Real Supabase not configured")),createStrategy:()=>Promise.reject(new Error("Real Supabase not configured")),updateStrategy:()=>Promise.reject(new Error("Real Supabase not configured")),deleteStrategy:()=>Promise.reject(new Error("Real Supabase not configured"))},Ye=ae,se=i?{async getProfile(){var l,g;const{data:{user:r}}=await i.auth.getUser();if(!r)throw new Error("User not authenticated");console.log("ðŸ” Getting profile for user:",r.id);const{data:t,error:s}=await i.from("users").select(`
        id, email, name, created_at, updated_at,
        default_reduction_strategy, default_reduction_percentage, default_reduction_interval,
        email_notifications, price_reduction_alerts,
        subscription_plan, subscription_active, subscription_expires_at, listing_limit,
        is_active, last_login, login_count, n8n_webhook_url
      `).eq("id",r.id).single();if(!s&&t)return console.log("âœ… Found user profile in database:",t),t;console.log("âš ï¸ User profile not found in database, creating profile:",s==null?void 0:s.message);const a={id:r.id,email:r.email,name:((l=r.user_metadata)==null?void 0:l.name)||((g=r.email)==null?void 0:g.split("@")[0])||"User",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),default_reduction_strategy:"fixed_percentage",default_reduction_percentage:5,default_reduction_interval:7,email_notifications:!0,price_reduction_alerts:!0,subscription_plan:"free",subscription_active:!0,subscription_expires_at:null,listing_limit:10,is_active:!0,last_login:null,login_count:0,n8n_webhook_url:null},{data:n,error:o}=await i.from("users").insert(a).select().single();return o?(console.error("âŒ Error creating user profile:",o),a):(console.log("âœ… Created user profile:",n),n)},async updateProfile(r){const{data:{user:t}}=await i.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s}=await i.from("users").select("id").eq("id",t.id).single();if(!s)throw new Error("User profile not found. Please complete your profile setup.");const{data:a,error:n}=await i.from("users").update(r).eq("id",t.id).select();if(n)throw n;return a&&a.length>0?a[0]:null},async getAuthToken(){const{data:{session:r}}=await i.auth.getSession();if(!(r!=null&&r.access_token))throw new Error("No valid session");return r.access_token}}:{getProfile:()=>Promise.reject(new Error("Real Supabase not configured")),updateProfile:()=>Promise.reject(new Error("Real Supabase not configured")),getAuthToken:()=>Promise.reject(new Error("Real Supabase not configured"))},Ke=se;console.log("ðŸ” API Mode Debug:",{isDemoMode:X,isLocalStorageMode:ee,hasSupabaseUrl:!!j,hasSupabaseKey:!!E,hasRealClient:!!i,demoModeEnv:"false",supabaseUrl:(j==null?void 0:j.substring(0,30))+"...",usingAPI:"realUserAPI"});const ne=i?{signUp:async(r,t,s={})=>await i.auth.signUp({email:r,password:t,options:{data:s,emailRedirectTo:window.location.origin}}),signIn:async(r,t)=>await i.auth.signInWithPassword({email:r,password:t}),signOut:async()=>await i.auth.signOut(),resetPassword:async r=>await i.auth.resetPasswordForEmail(r),updatePassword:async r=>await i.auth.updateUser({password:r})}:{signUp:()=>Promise.reject(new Error("Real Supabase not configured")),signIn:()=>Promise.reject(new Error("Real Supabase not configured")),signOut:()=>Promise.reject(new Error("Real Supabase not configured")),resetPassword:()=>Promise.reject(new Error("Real Supabase not configured")),updatePassword:()=>Promise.reject(new Error("Real Supabase not configured"))},Qe=ne,T=c.createContext({}),ie=()=>{const r=c.useContext(T);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},oe=({children:r})=>{const[t,s]=c.useState(null),[a,n]=c.useState(!0);c.useEffect(()=>{x.auth.getSession().then(({data:{session:m}})=>{s((m==null?void 0:m.user)??null),n(!1)});const{data:{subscription:u}}=x.auth.onAuthStateChange((m,_)=>{s((_==null?void 0:_.user)??null),n(!1)});return()=>u.unsubscribe()},[]);const b={user:t,loading:a,signUp:async(u,m,_)=>{const{data:f,error:v}=await x.auth.signUp({email:u,password:m,options:{data:_,emailRedirectTo:window.location.origin}});if(v)throw v;if(f.user){const{error:P}=await x.from("users").insert({id:f.user.id,email:f.user.email,name:_.name||u.split("@")[0]});if(P)throw P}return f},signIn:async(u,m)=>{const{data:_,error:f}=await x.auth.signInWithPassword({email:u,password:m});if(f)throw f;return _},signOut:async()=>{const{error:u}=await x.auth.signOut();if(u)throw u},resetPassword:async u=>{const{error:m}=await x.auth.resetPasswordForEmail(u,{redirectTo:`${window.location.origin}/reset-password`});if(m)throw m},isAuthenticated:!!t};return e.jsx(T.Provider,{value:b,children:!a&&r})},D=c.createContext();function ce({children:r}){const[t,s]=c.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n?n==="dark":!0}return!0});c.useEffect(()=>{const n=document.documentElement;t?(n.classList.add("dark"),n.classList.remove("light")):(n.classList.remove("dark"),n.classList.add("light")),localStorage.setItem("theme",t?"dark":"light")},[t]);const a=()=>s(!t);return e.jsx(D.Provider,{value:{isDark:t,toggleTheme:a},children:r})}function le(){const r=c.useContext(D);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ue=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),I=r=>{const t=ue(r);return t.charAt(0).toUpperCase()+t.slice(1)},q=(...r)=>r.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),he=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var me={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=c.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:l,...g},d)=>c.createElement("svg",{ref:d,...me,width:t,height:t,stroke:r,strokeWidth:a?Number(s)*24/Number(t):s,className:q("lucide",n),...!o&&!he(g)&&{"aria-hidden":"true"},...g},[...l.map(([b,u])=>c.createElement(b,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=(r,t)=>{const s=c.forwardRef(({className:a,...n},o)=>c.createElement(pe,{ref:o,iconNode:t,className:q(`lucide-${de(I(r))}`,`lucide-${r}`,a),...n}));return s.displayName=I(r),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],_e=y("key",ge);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],ye=y("layout-list",fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xe=y("log-out",we);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ve=y("menu",be);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],A=y("moon",je);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Se=y("search",ke);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],L=y("sun",Ee);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ne=y("user",Pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ae=y("x",Ie),Le=c.lazy(()=>p(()=>import("./Account-47cfb146.js"),["assets/Account-47cfb146.js","assets/vendor-react-4c62d1cf.js","assets/vendor-query-4b12add6.js","assets/vendor-supabase-5edd3635.js"])),Re=c.lazy(()=>p(()=>import("./Strategies-cc8598d1.js"),["assets/Strategies-cc8598d1.js","assets/vendor-react-4c62d1cf.js","assets/vendor-query-4b12add6.js","assets/plus-1047e1dd.js","assets/check-9783a27c.js","assets/vendor-supabase-5edd3635.js"])),Ue=c.lazy(()=>p(()=>import("./Listings-94dc143f.js"),["assets/Listings-94dc143f.js","assets/vendor-react-4c62d1cf.js","assets/api-0ba7f9da.js","assets/vendor-query-4b12add6.js","assets/refresh-cw-6c475bbf.js","assets/funnel-9484537d.js","assets/vendor-supabase-5edd3635.js"])),Ce=c.lazy(()=>p(()=>import("./Login-b28b731a.js"),["assets/Login-b28b731a.js","assets/vendor-react-4c62d1cf.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"])),Oe=c.lazy(()=>p(()=>import("./QuickList-42adf0f9.js"),["assets/QuickList-42adf0f9.js","assets/vendor-react-4c62d1cf.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"])),Te=c.lazy(()=>p(()=>import("./AutoList-080f05ac.js"),["assets/AutoList-080f05ac.js","assets/vendor-react-4c62d1cf.js","assets/vendor-forms-45c7a11a.js","assets/vendor-utils-04f2268f.js","assets/vendor-query-4b12add6.js","assets/vendor-supabase-5edd3635.js"])),De=c.lazy(()=>p(()=>import("./AdminSettings-518d504c.js"),["assets/AdminSettings-518d504c.js","assets/vendor-react-4c62d1cf.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"])),qe=c.lazy(()=>p(()=>import("./ListingSettings-d02ca192.js"),["assets/ListingSettings-d02ca192.js","assets/vendor-react-4c62d1cf.js","assets/api-0ba7f9da.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"])),Me=c.lazy(()=>p(()=>import("./InfluencerCentral-4eaf9fcd.js"),["assets/InfluencerCentral-4eaf9fcd.js","assets/vendor-supabase-5edd3635.js","assets/vendor-react-4c62d1cf.js","assets/chevron-left-205438b2.js","assets/chevron-right-269a41e8.js","assets/shopping-bag-d696d14d.js","assets/upload-c26ca2b0.js","assets/package-c13beea5.js","assets/vendor-query-4b12add6.js"])),R=c.lazy(()=>p(()=>import("./EbayCentral-3fe9f864.js"),["assets/EbayCentral-3fe9f864.js","assets/vendor-supabase-5edd3635.js","assets/vendor-react-4c62d1cf.js","assets/chevron-left-205438b2.js","assets/chevron-right-269a41e8.js","assets/zap-8fb19a26.js","assets/vendor-query-4b12add6.js"])),ze=c.lazy(()=>p(()=>import("./ApiKeys-8dc41ec2.js"),["assets/ApiKeys-8dc41ec2.js","assets/vendor-react-4c62d1cf.js","assets/external-link-a2bb9e65.js","assets/eye-06e1df4e.js","assets/loader-43bf0082.js","assets/circle-alert-a9c91508.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"])),U=c.lazy(()=>p(()=>import("./WhatNotAnalysis-12add06e.js"),["assets/WhatNotAnalysis-12add06e.js","assets/vendor-react-4c62d1cf.js","assets/vendor-forms-45c7a11a.js","assets/vendor-utils-04f2268f.js","assets/loader-43bf0082.js","assets/download-ea89d811.js","assets/circle-alert-a9c91508.js","assets/package-c13beea5.js","assets/file-spreadsheet-291256bd.js","assets/upload-c26ca2b0.js","assets/funnel-9484537d.js","assets/refresh-cw-6c475bbf.js","assets/chevron-down-7e76eefa.js","assets/chevron-right-269a41e8.js","assets/external-link-a2bb9e65.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"])),$e=c.lazy(()=>p(()=>import("./ProductCRM-8d13df7c.js"),["assets/ProductCRM-8d13df7c.js","assets/vendor-react-4c62d1cf.js","assets/chevron-down-7e76eefa.js","assets/plus-1047e1dd.js","assets/loader-43bf0082.js","assets/check-9783a27c.js","assets/refresh-cw-6c475bbf.js","assets/circle-alert-a9c91508.js","assets/package-c13beea5.js","assets/external-link-a2bb9e65.js","assets/shopping-bag-d696d14d.js","assets/eye-06e1df4e.js","assets/chevron-right-269a41e8.js","assets/zap-8fb19a26.js","assets/clock-1f92464c.js","assets/vendor-supabase-5edd3635.js","assets/vendor-query-4b12add6.js"]));function Ze(){const{user:r,isAuthenticated:t,signOut:s}=ie(),{isDark:a,toggleTheme:n}=le(),[o,l]=c.useState(!1),g=z(),d=$();c.useEffect(()=>{!t&&d.pathname!=="/login"&&g("/login")},[t,d.pathname,g]),c.useEffect(()=>{l(!1)},[d.pathname]),c.useEffect(()=>{if(o){const _=f=>{const v=document.querySelector("nav");v&&!v.contains(f.target)&&l(!1)};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)}},[o]);const b=async()=>{g("/")},u=async()=>{await s(),g("/login")};if(!t)return e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:e.jsx("div",{className:"text-theme-secondary",children:"Loading..."})}),children:e.jsx(Ce,{onLogin:b})});const m=d.pathname==="/whatnot";return e.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[!m&&e.jsxs("nav",{className:"bg-theme-surface border-b border-theme relative z-50",children:[e.jsx("div",{className:d.pathname==="/listings"?"w-full px-4":"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center h-14",children:[e.jsx("div",{className:"flex items-center min-w-0",children:e.jsxs("h1",{className:"text-lg font-semibold text-theme-primary truncate",children:[e.jsx("span",{className:"sm:hidden",children:"eBay PR"}),e.jsx("span",{className:"hidden sm:inline",children:"eBay Price Reducer"})]})}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[e.jsx(w,{to:"/ebay-central",className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d.pathname==="/ebay-central"||d.pathname==="/listings"||d.pathname==="/"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,children:"eBay Central"}),e.jsx(w,{to:"/asin-lookup",className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d.pathname==="/asin-lookup"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,children:"Influencer Central"}),e.jsx(w,{to:"/account",className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d.pathname==="/account"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,children:"Account"}),e.jsx(w,{to:"/api-keys",className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d.pathname==="/api-keys"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,children:"API Keys"}),e.jsx("button",{onClick:n,className:"p-2 rounded-lg text-theme-secondary hover:text-theme-primary hover:bg-theme-hover dark:hover:bg-theme-hover transition-colors","aria-label":a?"Switch to light mode":"Switch to dark mode",title:a?"Switch to light mode":"Switch to dark mode",children:a?e.jsx(L,{className:"h-5 w-5",strokeWidth:1.5}):e.jsx(A,{className:"h-5 w-5",strokeWidth:1.5})}),e.jsx("button",{onClick:u,className:"ml-2 bg-theme-hover hover:opacity-80 text-theme-secondary hover:text-theme-primary px-3 py-2 rounded-lg text-sm font-medium transition-colors",children:"Logout"})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx("button",{onClick:()=>l(!o),className:"p-2 rounded-lg text-theme-secondary hover:text-theme-primary hover:bg-theme-hover focus:outline-none focus:ring-2 focus:ring-accent transition-colors","aria-expanded":o,"aria-label":"Toggle navigation menu",children:o?e.jsx(Ae,{className:"h-5 w-5",strokeWidth:1.5}):e.jsx(ve,{className:"h-5 w-5",strokeWidth:1.5})})})]})}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>l(!1),"aria-hidden":"true"}),e.jsx("div",{className:"lg:hidden absolute top-14 left-0 right-0 bg-theme-surface border-b border-theme shadow-xl z-50",children:e.jsxs("div",{className:"px-4 py-3 space-y-1",children:[r&&e.jsx("div",{className:"px-3 py-2 text-theme-tertiary text-sm border-b border-theme mb-2",children:r.name||r.username||"User"}),e.jsxs(w,{to:"/ebay-central",className:`flex items-center px-3 py-3 rounded-lg text-base font-medium transition-colors ${d.pathname==="/ebay-central"||d.pathname==="/listings"||d.pathname==="/"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,onClick:()=>l(!1),children:[e.jsx(ye,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"eBay Central"]}),e.jsxs(w,{to:"/asin-lookup",className:`flex items-center px-3 py-3 rounded-lg text-base font-medium transition-colors ${d.pathname==="/asin-lookup"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,onClick:()=>l(!1),children:[e.jsx(Se,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"Influencer Central"]}),e.jsxs(w,{to:"/account",className:`flex items-center px-3 py-3 rounded-lg text-base font-medium transition-colors ${d.pathname==="/account"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,onClick:()=>l(!1),children:[e.jsx(Ne,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"Account"]}),e.jsxs(w,{to:"/api-keys",className:`flex items-center px-3 py-3 rounded-lg text-base font-medium transition-colors ${d.pathname==="/api-keys"?"bg-accent text-white":"text-theme-secondary hover:text-theme-primary hover:bg-theme-hover"}`,onClick:()=>l(!1),children:[e.jsx(_e,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"API Keys"]}),e.jsxs("div",{className:"pt-2 mt-2 border-t border-theme space-y-1",children:[e.jsx("button",{onClick:n,className:"flex items-center w-full px-3 py-3 rounded-lg text-base font-medium text-theme-secondary hover:text-theme-primary hover:bg-theme-hover transition-colors",children:a?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"Light Mode"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"Dark Mode"]})}),e.jsxs("button",{onClick:()=>{u(),l(!1)},className:"flex items-center w-full px-3 py-3 rounded-lg text-base font-medium text-theme-secondary hover:text-error hover:bg-error/10 transition-colors",children:[e.jsx(xe,{className:"mr-3 h-5 w-5",strokeWidth:1.5}),"Logout"]})]})]})})]})]}),e.jsx("main",{className:["/listings","/asin-lookup","/ebay-central","/whatnot","/product-crm"].includes(d.pathname)||d.pathname==="/"?"w-full":"max-w-7xl mx-auto py-4 px-2 sm:py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:["/listings","/asin-lookup","/ebay-central","/whatnot","/product-crm"].includes(d.pathname)||d.pathname==="/"?"":"sm:px-0",children:e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-accent"}),e.jsx("p",{className:"mt-2 text-theme-secondary",children:"Loading..."})]})}),children:e.jsxs(Z,{children:[e.jsx(h,{path:"/",element:e.jsx(R,{})}),e.jsx(h,{path:"/ebay-central",element:e.jsx(R,{})}),e.jsx(h,{path:"/listings",element:e.jsx(Ue,{})}),e.jsx(h,{path:"/auto-list",element:e.jsx(Oe,{})}),e.jsx(h,{path:"/bulk-list",element:e.jsx(Te,{})}),e.jsx(h,{path:"/strategies",element:e.jsx(Re,{})}),e.jsx(h,{path:"/account",element:e.jsx(Le,{})}),e.jsx(h,{path:"/listing-settings",element:e.jsx(qe,{})}),e.jsx(h,{path:"/admin-settings",element:e.jsx(De,{})}),e.jsx(h,{path:"/asin-lookup",element:e.jsx(Me,{})}),e.jsx(h,{path:"/whatnot",element:e.jsx(U,{})}),e.jsx(h,{path:"/api-keys",element:e.jsx(ze,{})}),e.jsx(h,{path:"/whatnot",element:e.jsx(U,{})}),e.jsx(h,{path:"/product-crm",element:e.jsx($e,{})})]})})})})]})}const Fe=new V({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1,staleTime:5*60*1e3}}});S.createRoot(document.getElementById("root")).render(e.jsx(B,{client:Fe,children:e.jsx(F,{children:e.jsx(ce,{children:e.jsx(oe,{children:e.jsx(Ze,{})})})})}));export{ve as M,Se as S,Ae as X,Qe as a,Ye as b,y as c,ie as d,e as j,Je as l,x as s,Ke as u};
//# sourceMappingURL=index-0231291c.js.map
